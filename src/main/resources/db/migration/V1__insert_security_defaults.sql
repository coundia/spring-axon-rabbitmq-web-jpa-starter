-- Tenant
INSERT INTO tenants (id, name)
VALUES ('00000000-0000-0000-0000-000000000001', 'default')
ON CONFLICT (name) DO NOTHING;

-- Permissions
INSERT INTO permissions (id, name, tenant_id)
VALUES (gen_random_uuid(), 'READ', '00000000-0000-0000-0000-000000000001'),
       (gen_random_uuid(), 'WRITE', '00000000-0000-0000-0000-000000000001'),
       (gen_random_uuid(), 'DELETE', '00000000-0000-0000-0000-000000000001'),
       (gen_random_uuid(), 'IS_ADMIN', '00000000-0000-0000-0000-000000000001')
ON CONFLICT DO NOTHING;

-- Roles
INSERT INTO roles (id, name, tenant_id)
VALUES ('00000000-0000-0000-0000-00000000A001', 'ROLE_ADMIN', '00000000-0000-0000-0000-000000000001'),
       ('00000000-0000-0000-0000-00000000A002', 'ROLE_USER', '00000000-0000-0000-0000-000000000001')
ON CONFLICT DO NOTHING;

-- RolePermissions (admin -> all)
INSERT INTO role_permissions (id, role_id, permission_id)
SELECT gen_random_uuid(), '00000000-0000-0000-0000-00000000A001', p.id
FROM permissions p
WHERE p.tenant_id = '00000000-0000-0000-0000-000000000001'
ON CONFLICT DO NOTHING;

-- Users
INSERT INTO custom_users (id, username, password, tenant_id)
VALUES ('00000000-0000-0000-0000-00000000U001', 'admin', '$2a$10$E...HASHED...',
        '00000000-0000-0000-0000-000000000001'),
       ('00000000-0000-0000-0000-00000000U002', 'user', '$2a$10$E...HASHED...', '00000000-0000-0000-0000-000000000001')
ON CONFLICT DO NOTHING;

-- UserRoles
INSERT INTO user_roles (id, user_id, role_id)
VALUES (gen_random_uuid(), '00000000-0000-0000-0000-00000000U001', '00000000-0000-0000-0000-00000000A001'),
       (gen_random_uuid(), '00000000-0000-0000-0000-00000000U002', '00000000-0000-0000-0000-00000000A002')
ON CONFLICT DO NOTHING;
